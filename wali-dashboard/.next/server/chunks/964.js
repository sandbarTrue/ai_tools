exports.id=964,exports.ids=[964],exports.modules={9041:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2994,23)),Promise.resolve().then(s.t.bind(s,6114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,9671,23)),Promise.resolve().then(s.t.bind(s,1868,23)),Promise.resolve().then(s.t.bind(s,4759,23))},4354:(e,t,s)=>{Promise.resolve().then(s.bind(s,998))},1967:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var o=s(326);function a({children:e,className:t="",hover:s=!0,style:a}){return o.jsx("div",{className:`
        bg-[#161b22] border border-[#30363d] rounded-xl p-5
        ${s?"card-hover":""}
        ${t}
      `,style:a,children:e})}},1060:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var o=s(326);function a({isLive:e,generatedAt:t}){return e?(0,o.jsxs)("div",{className:"inline-flex items-center gap-1.5 px-3 py-1 rounded-full bg-green-500/10 border border-green-500/30 text-xs",children:[o.jsx("span",{className:"w-2 h-2 rounded-full bg-green-400 animate-pulse"}),(0,o.jsxs)("span",{className:"text-green-400 font-medium",children:["Live",t&&` \xb7 最后更新: ${(e=>{try{return new Date(e).toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit"})}catch{return""}})(t)}`]})]}):(0,o.jsxs)("div",{className:"inline-flex items-center gap-1.5 px-3 py-1 rounded-full bg-yellow-500/10 border border-yellow-500/30 text-xs",children:[o.jsx("span",{className:"w-2 h-2 rounded-full bg-yellow-400"}),o.jsx("span",{className:"text-yellow-400 font-medium",children:"示例数据 \xb7 API 离线"})]})}},2394:(e,t,s)=>{"use strict";s.d(t,{Z:()=>c});var o=s(326),a=s(7577),n=s(1967),l=s(8721);function r(e){return e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"K":e.toString()}function i(e){return e>=1e3?"$"+(e/1e3).toFixed(1)+"K":e>=1?"$"+e.toFixed(2):e>0?"$"+e.toFixed(4):"$0"}function c({models:e,title:t="模型排行",maxItems:s=10,showExpand:c=!0}){let[d,u]=(0,a.useState)(!1),[m,p]=(0,a.useState)(null),x=[...e].filter(e=>(e._calls||0)>0||e.tokensUsedMonth>0).sort((e,t)=>(t._calls||0)-(e._calls||0)),h=d?x:x.slice(0,s),y=x.length>s,k=x.reduce((e,t)=>e+(t._calls||0),0),g=x.reduce((e,t)=>e+(t._inputTokens||0),0),f=x.reduce((e,t)=>e+(t._outputTokens||0),0),b=x.reduce((e,t)=>e+(t._cost||0),0);return 0===x.length?null:(0,o.jsxs)(n.Z,{hover:!1,children:[(0,o.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,o.jsxs)("h2",{className:"text-lg font-semibold text-white",children:["\uD83C\uDFC6 ",t]}),(0,o.jsxs)("div",{className:"text-xs text-gray-500",children:[x.length," 个活跃模型"]})]}),o.jsx("div",{className:"overflow-x-auto",children:(0,o.jsxs)("table",{className:"w-full text-xs",children:[o.jsx("thead",{children:(0,o.jsxs)("tr",{className:"text-gray-500 border-b border-[#21262d]",children:[o.jsx("th",{className:"text-left py-2 px-2 font-medium w-10",children:"#"}),o.jsx("th",{className:"text-left py-2 px-2 font-medium",children:"模型"}),o.jsx("th",{className:"text-right py-2 px-2 font-medium",children:"调用次数"}),o.jsx("th",{className:"text-right py-2 px-2 font-medium",children:"输入"}),o.jsx("th",{className:"text-right py-2 px-2 font-medium",children:"输出"}),o.jsx("th",{className:"text-right py-2 px-2 font-medium",children:"费用"})]})}),o.jsx("tbody",{children:h.map((e,t)=>{let s=m===e.name,a=e._subModels&&e._subModels.length>0;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("tr",{className:`border-b border-[#21262d]/50 hover:bg-[#161b22] ${a?"cursor-pointer":""}`,onClick:()=>a&&p(s?null:e.name),children:[o.jsx("td",{className:"py-2 px-2 text-gray-500 font-mono",children:t+1}),o.jsx("td",{className:"py-2 px-2",children:(0,o.jsxs)("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"w-2.5 h-2.5 rounded-full shrink-0",style:{backgroundColor:e.color}}),o.jsx("span",{className:"text-white font-medium truncate max-w-[200px]",children:e.name}),o.jsx(l.Z,{status:e.status,size:"sm"}),a&&(0,o.jsxs)("span",{className:"text-gray-500 text-[10px]",children:[s?"▼":"▶"," ",e._subModels.length]})]})}),o.jsx("td",{className:"py-2 px-2 text-right text-white font-mono",children:(e._calls||0).toLocaleString()}),o.jsx("td",{className:"py-2 px-2 text-right text-gray-400 font-mono",children:r(e._inputTokens||0)}),o.jsx("td",{className:"py-2 px-2 text-right text-gray-400 font-mono",children:r(e._outputTokens||0)}),o.jsx("td",{className:"py-2 px-2 text-right font-mono",children:o.jsx("span",{className:(e._cost||0)>0?"text-yellow-400":"text-green-400",children:(e._cost||0)>0?i(e._cost||0):"免费"})})]},e.name),s&&a&&e._subModels.map((t,s)=>(0,o.jsxs)("tr",{className:"border-b border-[#21262d]/30 bg-[#0d1117]",children:[o.jsx("td",{className:"py-1.5 px-2"}),(0,o.jsxs)("td",{className:"py-1.5 px-2 pl-6",children:[o.jsx("span",{className:"text-gray-500 text-[10px]",children:"└"}),o.jsx("span",{className:"text-gray-400 ml-1 text-[11px] truncate max-w-[180px]",children:t.name||t})]}),o.jsx("td",{className:"py-1.5 px-2 text-right text-gray-500 font-mono text-[11px]",children:(t.calls||0).toLocaleString()}),o.jsx("td",{className:"py-1.5 px-2 text-right text-gray-500 font-mono text-[11px]",children:r(t.input_tokens||0)}),o.jsx("td",{className:"py-1.5 px-2 text-right text-gray-500 font-mono text-[11px]",children:r(t.output_tokens||0)}),o.jsx("td",{className:"py-1.5 px-2 text-right text-gray-500 font-mono text-[11px]",children:(t.cost||0)>0?i(t.cost||0):"—"})]},`${e.name}-sub-${s}`))]})})}),o.jsx("tfoot",{children:(0,o.jsxs)("tr",{className:"border-t border-[#30363d] font-medium",children:[o.jsx("td",{className:"py-2 px-2",colSpan:2,children:(0,o.jsxs)("span",{className:"text-gray-400",children:["合计 ",x.length," 个模型"]})}),o.jsx("td",{className:"py-2 px-2 text-right text-white font-mono",children:k.toLocaleString()}),o.jsx("td",{className:"py-2 px-2 text-right text-gray-400 font-mono",children:r(g)}),o.jsx("td",{className:"py-2 px-2 text-right text-gray-400 font-mono",children:r(f)}),o.jsx("td",{className:"py-2 px-2 text-right text-yellow-400 font-mono",children:i(b)})]})})]})}),c&&y&&o.jsx("button",{onClick:()=>u(!d),className:"mt-3 text-xs text-purple-400 hover:text-purple-300 transition-colors",children:d?"收起":`展开全部 ${x.length} 个模型`})]})}},998:(e,t,s)=>{"use strict";s.d(t,{default:()=>i});var o=s(326),a=s(434),n=s(5047),l=s(7577);let r=[{href:"/",label:"总览",icon:"\uD83D\uDCCA"},{href:"/tasks",label:"任务看板",icon:"\uD83D\uDCCB"},{href:"/verify",label:"验收报告",icon:"\uD83D\uDCC4"},{href:"/models",label:"模型监控",icon:"\uD83E\uDDE0"},{href:"/skills",label:"Skills",icon:"\uD83E\uDDE9"},{href:"/crons",label:"Cron任务",icon:"⏰"},{href:"/subscriptions",label:"订阅服务",icon:"\uD83D\uDCB3"}];function i(){let e=(0,n.usePathname)(),[t,s]=(0,l.useState)(!1),[i,c]=(0,l.useState)(!1);return(0,o.jsxs)(o.Fragment,{children:[o.jsx("button",{onClick:()=>c(!i),className:"fixed top-4 left-4 z-50 md:hidden bg-[#21262d] border border-[#30363d] rounded-lg p-2 text-xl",children:i?"✕":"☰"}),i&&o.jsx("div",{className:"fixed inset-0 bg-black/50 z-30 md:hidden",onClick:()=>c(!1)}),(0,o.jsxs)("aside",{className:`
          fixed top-0 left-0 h-full z-40 bg-[#161b22] border-r border-[#30363d]
          flex flex-col transition-all duration-300 ease-in-out
          ${t?"w-16":"w-60"}
          ${i?"translate-x-0":"-translate-x-full"}
          md:translate-x-0 md:relative
        `,children:[(0,o.jsxs)("div",{className:"flex items-center justify-between px-4 h-16 border-b border-[#30363d] shrink-0",children:[!t&&(0,o.jsxs)(a.default,{href:"/",className:"flex items-center gap-2 text-lg font-bold text-white whitespace-nowrap",children:[o.jsx("span",{className:"text-2xl",children:"\uD83E\uDD16"}),o.jsx("span",{children:"瓦力控制台"})]}),t&&o.jsx(a.default,{href:"/",className:"text-2xl mx-auto",children:"\uD83E\uDD16"}),o.jsx("button",{onClick:()=>s(!t),className:"hidden md:block text-[#8b949e] hover:text-white text-sm ml-2",title:t?"展开":"收起",children:t?"→":"←"})]}),o.jsx("nav",{className:"flex-1 py-4 overflow-y-auto",children:r.map(s=>{let n=e===s.href;return(0,o.jsxs)(a.default,{href:s.href,onClick:()=>c(!1),className:`
                  flex items-center gap-3 mx-2 px-3 py-2.5 rounded-lg text-sm font-medium
                  transition-colors duration-150
                  ${n?"bg-[#21262d] text-white border border-[#30363d]":"text-[#8b949e] hover:text-white hover:bg-[#21262d]"}
                  ${t?"justify-center":""}
                `,children:[o.jsx("span",{className:"text-lg",children:s.icon}),!t&&o.jsx("span",{children:s.label})]},s.href)})}),(0,o.jsxs)("div",{className:"px-4 py-3 border-t border-[#30363d] text-xs text-[#6e7681] shrink-0",children:[!t&&(0,o.jsxs)("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 status-dot-pulse"}),o.jsx("span",{children:"系统运行中"})]}),t&&o.jsx("div",{className:"flex justify-center",children:o.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 status-dot-pulse"})})]})]})]})}},8721:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var o=s(326);function a({status:e,pulse:t=!0,size:s="sm"}){return o.jsx("span",{className:`inline-block rounded-full ${"md"===s?"w-3 h-3":"w-2 h-2"} ${e&&({healthy:"bg-green-500",success:"bg-green-500",active:"bg-green-500",degraded:"bg-yellow-500",timeout:"bg-yellow-500",down:"bg-red-500",failed:"bg-red-500",disabled:"bg-gray-500"})[e]||"bg-gray-500"} ${t&&"disabled"!==e?"status-dot-pulse":""}`})}},7964:(e,t,s)=>{"use strict";s.d(t,{F3:()=>n,gT:()=>a,w7:()=>o});let o=[{name:"Claude Opus 4.6",status:"healthy",tokensUsedToday:128500,tokensUsedWeek:856200,tokensUsedMonth:3245e3,avgResponseTime:2800,successRate:99.2,color:"#a855f7",quotas:[{name:"每5小时使用额度",used:1,resetTime:"16:54",resetLabel:"每5小时",color:"#a855f7"},{name:"MCP 每月额度",used:5,resetTime:"2026-03-08 22:52",resetLabel:"每月",color:"#a855f7"},{name:"Weekly All Models",used:1,resetTime:"Tue 11:00 AM",resetLabel:"每周",color:"#a855f7"},{name:"Current Session",used:6,resetTime:"3h 56min",resetLabel:"当前会话",color:"#a855f7"}],recentLogs:[{timestamp:"2026-02-17T11:30:00Z",model:"Opus",tokens:4200,latency:2650,success:!0,task:"搞钱看板构建"},{timestamp:"2026-02-17T11:15:00Z",model:"Opus",tokens:3800,latency:3100,success:!0,task:"每日商业报告"},{timestamp:"2026-02-17T10:45:00Z",model:"Opus",tokens:5600,latency:2900,success:!0,task:"PainRadar分析"},{timestamp:"2026-02-17T10:20:00Z",model:"Opus",tokens:2100,latency:1800,success:!0,task:"lark-manager"},{timestamp:"2026-02-17T09:50:00Z",model:"Opus",tokens:6800,latency:4200,success:!1,task:"支付模块调试"}]},{name:"MiniMax M2.5",status:"healthy",tokensUsedToday:0,tokensUsedWeek:12400,tokensUsedMonth:45600,avgResponseTime:1500,successRate:97.5,color:"#3b82f6",quotas:[{name:"API 免费额度",used:2,total:"\xa5100/月",resetTime:"2026-03-01",resetLabel:"每月",color:"#3b82f6"}],recentLogs:[{timestamp:"2026-02-16T22:00:00Z",model:"MiniMax",tokens:1200,latency:1400,success:!0,task:"备用测试"}]},{name:"GLM-5",status:"healthy",tokensUsedToday:45200,tokensUsedWeek:312800,tokensUsedMonth:112e4,avgResponseTime:1200,successRate:96.8,color:"#22c55e",quotas:[{name:"API 免费额度",used:8,total:"2500万 tokens/月",resetTime:"2026-03-01",resetLabel:"每月",color:"#22c55e"}],recentLogs:[{timestamp:"2026-02-17T11:25:00Z",model:"GLM-5",tokens:3200,latency:1100,success:!0,task:"编码任务"},{timestamp:"2026-02-17T11:10:00Z",model:"GLM-5",tokens:2800,latency:1350,success:!0,task:"飞书表格调试"},{timestamp:"2026-02-17T10:55:00Z",model:"GLM-5",tokens:4500,latency:980,success:!0,task:"skill开发"},{timestamp:"2026-02-17T10:30:00Z",model:"GLM-5",tokens:1800,latency:1500,success:!1,task:"画板skill"},{timestamp:"2026-02-17T10:00:00Z",model:"GLM-5",tokens:3600,latency:1200,success:!0,task:"痛点挖掘"},{timestamp:"2026-02-17T09:30:00Z",model:"GLM-5",tokens:2200,latency:1400,success:!0,task:"青云路写作"}]},{name:"GLM-4-Flash",status:"healthy",tokensUsedToday:22800,tokensUsedWeek:156400,tokensUsedMonth:68e4,avgResponseTime:600,successRate:98.1,color:"#06b6d4",quotas:[{name:"API 免费额度",used:3,total:"5000万 tokens/月",resetTime:"2026-03-01",resetLabel:"每月",color:"#06b6d4"}],recentLogs:[{timestamp:"2026-02-17T09:05:00Z",model:"GLM-4-Flash",tokens:8500,latency:580,success:!0,task:"PainRadar扫描"},{timestamp:"2026-02-17T09:02:00Z",model:"GLM-4-Flash",tokens:6200,latency:620,success:!0,task:"PainRadar分析"}]}],a=[{priority:1,model:"Claude Code + GLM-5",condition:"编码任务（bug修复、功能开发、重构）",action:"优先分配 Claude Code -p 模式 + GLM-5 模型（免费、9-30秒完成）"},{priority:2,model:"OpenSpec-bg + GLM-5",condition:"超大编码项目（多文件、多任务、>100行改动）",action:"screen 持久会话 + tasks.md 驱动循环执行"},{priority:3,model:"GLM-5 子agent",condition:"非多模态任务（文档生成、数据分析、文件读取）",action:"OpenClaw sessions_spawn，免费轻量级"},{priority:4,model:"Claude Opus 4.6",condition:"复杂决策、浏览器操作、多模态、对话交互",action:"保留给高价值任务（$200/月额度）"},{priority:5,model:"MiniMax M2.5",condition:"Claude Opus 429 限流时",action:"自动切换备用大脑（5分钟冷却恢复）"}],n={primary:"Claude Opus 4.6",backup:"MiniMax M2.5",switchCount:7,lastSwitch:"2025-02-15T14:30:00Z",history:[{timestamp:"2025-02-15T14:30:00Z",from:"MiniMax M2.5",to:"Claude Opus 4.6",reason:"Opus恢复可用"},{timestamp:"2025-02-15T08:20:00Z",from:"Claude Opus 4.6",to:"MiniMax M2.5",reason:"Opus API 超时"},{timestamp:"2025-02-12T16:45:00Z",from:"MiniMax M2.5",to:"Claude Opus 4.6",reason:"Opus恢复可用"},{timestamp:"2025-02-12T10:15:00Z",from:"Claude Opus 4.6",to:"MiniMax M2.5",reason:"Opus 限流"},{timestamp:"2025-02-08T20:00:00Z",from:"GLM-5",to:"Claude Opus 4.6",reason:"切换回主力"},{timestamp:"2025-02-08T14:30:00Z",from:"Claude Opus 4.6",to:"GLM-5",reason:"测试GLM-5作为主脑"},{timestamp:"2025-02-01T00:00:00Z",from:"-",to:"Claude Opus 4.6",reason:"系统初始化"}]}},5510:(e,t,s)=>{"use strict";s.d(t,{RW:()=>l,lz:()=>i,tV:()=>r});let o={"anthropic-oauth-proxy/claude-opus-4-6":{name:"Claude Opus 4.6 (OpenClaw)",color:"#a855f7",priority:1},"anthropic/claude-opus-4-6":{name:"Claude Opus 4.6 (直连)",color:"#c084fc",priority:2},"zhipu/glm-4.7":{name:"GLM-5",color:"#22c55e",priority:3},"ai-agent-proxy-responses/gpt-5.2-2025-12-11":{name:"GPT-5.2",color:"#10b981",priority:4},"ai-agent-proxy-google/gemini-3-pro-preview-new":{name:"Gemini 3 Pro",color:"#3b82f6",priority:5},"coco-proxy/coco":{name:"CoCo (MiniMax)",color:"#06b6d4",priority:6},"openclaw/delivery-mirror":{name:"Delivery Mirror",color:"#6366f1",priority:7},"anthropic/claude-sonnet-4-5-20250929-thinking":{name:"Claude Sonnet 4.5",color:"#ec4899",priority:8},"anthropic/claude-opus-4-5":{name:"Claude Opus 4.5",color:"#f472b6",priority:9},"ai-agent-proxy-responses/gpt-5.2-codex-2026-01-14":{name:"GPT-5.2 Codex",color:"#14b8a6",priority:10}},a={"claude-code/GLM-5":"claude-code/glm-5"},n=new Set(["claude-code/aggregated"]);function l(e){let t={};for(let[s,o]of Object.entries(e.models)){if(n.has(s))continue;let e=a[s]||s;if(t[e]){let s=t[e];s.calls+=o.calls,s.input_tokens+=o.input_tokens,s.output_tokens+=o.output_tokens,s.cache_read_tokens=(s.cache_read_tokens||0)+(o.cache_read_tokens||0),s.cost+=o.cost,s.today.calls+=o.today.calls,s.today.input_tokens+=o.today.input_tokens,s.today.output_tokens+=o.today.output_tokens,s.today.cost=(s.today.cost||0)+(o.today.cost||0),s.week.calls+=o.week.calls,s.week.input_tokens+=o.week.input_tokens,s.week.output_tokens+=o.week.output_tokens,s.week.cost=(s.week.cost||0)+(o.week.cost||0),s.month.calls+=o.month.calls,s.month.input_tokens+=o.month.input_tokens,s.month.output_tokens+=o.month.output_tokens,s.month.cost=(s.month.cost||0)+(o.month.cost||0)}else t[e]={...o}}let s=[];for(let[e,a]of Object.entries(t)){let t=function(e){if(o[e])return o[e];let t=e.split("/");return{name:t.length>1?t[1]:e,color:"#8b949e",priority:100}}(e);a.input_tokens,a.output_tokens;let n=a.today.input_tokens+a.today.output_tokens,l=a.week.input_tokens+a.week.output_tokens,r=a.month.input_tokens+a.month.output_tokens;s.push({name:t.name,status:"healthy",tokensUsedToday:n,tokensUsedWeek:l,tokensUsedMonth:r,avgResponseTime:0,successRate:100,color:t.color,_apiKey:e,_calls:a.calls,_callsToday:a.today.calls,_callsWeek:a.week.calls,_callsMonth:a.month.calls,_inputTokens:a.input_tokens,_outputTokens:a.output_tokens,_cost:a.cost,_costToday:a.today.cost||0,_costWeek:a.week.cost||0,_costMonth:a.month.cost||0,_cacheReadTokens:a.cache_read_tokens||0,_priority:t.priority})}return s.sort((e,t)=>(e._priority||100)-(t._priority||100)),s}function r(e){let t=e.brain_status;return t?{primary:"primary"===t.currentBrain?"Claude Opus 4.6":"CoCo (MiniMax)",backup:"primary"===t.currentBrain?"CoCo (MiniMax)":"Claude Opus 4.6",switchCount:t.requestCount.primary+t.requestCount.backup,lastSwitch:t.lastSwitchTime,history:[]}:{primary:"Unknown",backup:"Unknown",switchCount:0,lastSwitch:new Date().toISOString(),history:[]}}function i(e,t=6){return[...e].filter(e=>(e._calls||0)>0).sort((e,t)=>(t._calls||0)-(e._calls||0)).slice(0,t)}},9454:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l,metadata:()=>n});var o=s(9510);s(5023);let a=(0,s(8570).createProxy)(String.raw`/data00/home/zhoujun.sandbar/workspace/wali-dashboard/src/components/Sidebar.tsx#default`),n={title:"瓦力控制台 - 搞钱看板",description:"AI Agent 运营监控仪表盘"};function l({children:e}){return o.jsx("html",{lang:"zh-CN",children:(0,o.jsxs)("body",{className:"flex min-h-screen",children:[o.jsx(a,{}),o.jsx("main",{className:"flex-1 min-h-screen overflow-auto md:ml-0",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 pt-16 md:pt-8",children:e})})]})})}},5023:()=>{}};